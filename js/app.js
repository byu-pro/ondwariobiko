const injectGlobalAssets=()=>{if(!document.querySelector(".noise-overlay")){const e=document.createElement("div");e.className="noise-overlay",document.body.prepend(e)}};injectGlobalAssets();const initLoaderCounter=()=>{const e=document.querySelector(".page-transition");if(!e)return;if(!e.querySelector(".preloader-counter")){const t=document.createElement("div");t.className="preloader-counter",t.innerHTML="000",e.appendChild(t)}const t=e.querySelector(".preloader-counter");let o={val:0};gsap.to(o,{val:100,duration:2.2,ease:"power2.inOut",onUpdate:()=>{t.textContent=Math.round(o.val).toString().padStart(3,"0")}})};initLoaderCounter();const revealPage=()=>{if(window.pageHasRevealed)return;const e=document.querySelector(".page-transition");if(!e)return;window.pageHasRevealed=!0;const t=e.querySelectorAll(".preloader-logo")[0],o=e.querySelector(".preloader-counter");if(t){gsap.set(t,{opacity:0,scale:.85,filter:"blur(12px)",y:0});const n=gsap.timeline();n.to(t,{opacity:1,scale:1,filter:"blur(0px)",duration:1.2,ease:"power3.out"},"+=0.2"),n.to(t,{opacity:0,y:-40,filter:"blur(20px)",duration:.8,ease:"power4.in"},"+=0.4"),o&&n.to(o,{opacity:0,duration:.5,ease:"power2.in"},"<"),n.to(e,{yPercent:-100,duration:1.1,ease:"expo.inOut",onComplete:()=>{e.style.display="none"}},"-=0.3")}else gsap.to(e,{yPercent:-100,duration:1.2,ease:"expo.inOut",onComplete:()=>e.style.display="none"})};window.addEventListener("load",revealPage),setTimeout(revealPage,2500);const updateClock=()=>{const e=document.getElementById("nav-time");if(!e)return;const t=new Date,o=`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}:${String(t.getSeconds()).padStart(2,"0")}`;e.textContent!==o&&(e.textContent=o)};setInterval(updateClock,1e3),updateClock();const cursorDot=document.querySelector("[data-cursor-dot]"),cursorOutline=document.querySelector("[data-cursor-outline]"),isDesktop=window.matchMedia("(pointer: fine)").matches;if(isDesktop&&cursorDot&&cursorOutline){const e=gsap.quickSetter(cursorDot,"x","px"),t=gsap.quickSetter(cursorDot,"y","px");gsap.quickSetter(cursorOutline,"x","px"),gsap.quickSetter(cursorOutline,"y","px");window.addEventListener("mousemove",o=>{const{clientX:n,clientY:r}=o;e(n),t(r),gsap.to(cursorOutline,{x:n,y:r,duration:.15,ease:"power2.out",overwrite:"auto"})});const o="a, button, .work-item, .nav-logo, .nav-link, .menu-toggle";document.querySelectorAll(o).forEach(e=>{e.addEventListener("mouseenter",()=>{gsap.to(cursorOutline,{scale:1.5,backgroundColor:"rgba(204, 255, 0, 0.05)",borderColor:"var(--c-accent)",duration:.2}),e.classList.contains("work-item")&&gsap.to(e,{scale:1.01,duration:.4,ease:"power2.out"})}),e.addEventListener("mouseleave",()=>{gsap.to(cursorOutline,{scale:1,backgroundColor:"transparent",borderColor:"var(--c-accent)",duration:.2}),e.classList.contains("work-item")&&gsap.to(e,{scale:1,duration:.4,ease:"power2.out"})})})}else cursorDot&&(cursorDot.style.display="none"),cursorOutline&&(cursorOutline.style.display="none");const initMagneticNav=()=>{if(!isDesktop)return;const e=document.querySelector(".nav-dock"),t=document.querySelectorAll(".nav-link, .nav-logo, .menu-toggle");e&&t.forEach(e=>{e.addEventListener("mousemove",t=>{const o=e.getBoundingClientRect(),n=(t.clientX-o.left)/o.width-.5,r=(t.clientY-o.top)/o.height-.5;gsap.to(e,{x:20*n,y:20*r,duration:.3,ease:"power2.out",overwrite:"auto"})}),e.addEventListener("mouseleave",()=>{gsap.to(e,{x:0,y:0,duration:.6,ease:"elastic.out(1, 0.3)"})})})};initMagneticNav();const lenis=new Lenis({duration:1.1,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),smoothWheel:!0,touchMultiplier:1.5,infinite:!1});function raf(e){lenis.raf(e),requestAnimationFrame(raf)}requestAnimationFrame(raf),gsap.registerPlugin(ScrollTrigger);const marqueeContent=document.querySelector(".marquee-content");marqueeContent&&gsap.to(".marquee-content",{xPercent:-50,repeat:-1,duration:25,ease:"none"}),ScrollTrigger.batch(".reveal",{onEnter:e=>gsap.to(e,{opacity:1,y:0,duration:.8,ease:"power3.out",stagger:.1,overwrite:!0}),start:"top 90%"});const workItems=document.querySelectorAll(".work-item");workItems.forEach(e=>{const t=e.querySelector(".work-img");t&&!window.matchMedia("(max-width: 768px)").matches&&gsap.to(t,{scrollTrigger:{trigger:e,start:"top bottom",end:"bottom top",scrub:!0},yPercent:15,ease:"none"})});const handleLinkClicks=()=>{document.querySelectorAll("a").forEach(e=>{e.addEventListener("click",t=>{const o=e.getAttribute("href");if(o&&!o.startsWith("#")&&!o.startsWith("mailto:")&&!o.startsWith("tel:")&&!o.includes("http")&&"_blank"!==e.target){t.preventDefault();const e=document.querySelector(".page-transition");if(e){e.style.display="flex",gsap.set(e,{yPercent:100});const t=e.querySelectorAll(".preloader-logo")[0],n=gsap.timeline({onComplete:()=>{window.location.href=o}});n.to(e,{yPercent:0,duration:.8,ease:"expo.inOut"}),t&&n.fromTo(t,{opacity:0,scale:.9,filter:"blur(10px)"},{opacity:1,scale:1,filter:"blur(0px)",duration:.4,ease:"power2.out"},"-=0.2")}else window.location.href=o}})})};handleLinkClicks();const logoContent=document.querySelector(".logo-marquee-content");if(logoContent){const e=window.matchMedia("(max-width: 768px)").matches;gsap.set(logoContent,{xPercent:0}),gsap.to(logoContent,{xPercent:-50,repeat:-1,duration:e?60:45,ease:"none"})}const initInteractiveDiscovery=()=>{document.querySelectorAll(".swatch-box").forEach(e=>{e.addEventListener("click",()=>{const t=e.textContent.trim();navigator.clipboard.writeText(t).then(()=>{e.classList.add("copied"),setTimeout(()=>e.classList.remove("copied"),2e3)})})});const e=document.querySelector(".type-tester-input"),t=document.querySelector(".type-tester-target");e&&t&&e.addEventListener("input",e=>{t.textContent=e.target.value||"AaBb"})};initInteractiveDiscovery();const menuToggle=document.querySelector(".menu-toggle"),mobileMenu=document.querySelector(".mobile-menu"),mobileClose=document.querySelector(".mobile-menu-close");if(menuToggle&&mobileMenu){const e=()=>{mobileMenu.classList.toggle("active"),menuToggle.classList.toggle("active")};menuToggle.addEventListener("click",e),mobileClose&&mobileClose.addEventListener("click",e)}const initBackToTop=()=>{if(!document.querySelector(".back-to-top")){const e='\n            <div class="back-to-top" aria-label="Back to Top">\n                <svg class="back-to-top-progress" viewBox="0 0 64 64">\n                    <circle class="progress-ring-circle" cx="32" cy="32" r="30"/>\n                </svg>\n                <svg class="icon-arrow" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">\n                    <path d="M12 19V5M5 12l7-7 7 7"/>\n                </svg>\n            </div>\n        ';document.body.insertAdjacentHTML("beforeend",e)}const e=document.querySelector(".back-to-top"),t=document.querySelector(".progress-ring-circle"),o=60*Math.PI,n=()=>{const n=window.scrollY,r=document.documentElement.scrollHeight-window.innerHeight;if(r<=0)return;const a=Math.min(Math.max(n/r,0),1);a>.4?e.classList.add("active"):e.classList.remove("active");const i=o-a*o;t.style.strokeDashoffset=i};void 0!==lenis?lenis.on("scroll",n):window.addEventListener("scroll",n),e.addEventListener("click",()=>{void 0!==lenis?lenis.scrollTo(0):window.scrollTo({top:0,behavior:"smooth"})}),n()};window.addEventListener("load",initBackToTop);